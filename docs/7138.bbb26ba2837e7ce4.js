"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7138],{7138:(y,l,e)=>{e.r(l),e.d(l,{AuthModule:()=>x});var h=e(6895),u=e(529),r=e(433),c=e(2143),o=e(1571),g=e(2340),p=e(3905);let d=(()=>{class n{constructor(t){this.http=t}login(t,i){return console.log(t),console.log(i),console.log(`${g.N.baseUrl}/User/Authenticate`),(0,p.z)(this.http.post(`${g.N.baseUrl}/User/Authenticate`,{username:t,password:i}))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(u.eN))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var f=e(7282),v=e(3300),a=e(2723),C=e(4598);const P=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(t,i,m,A,M,O,F){this._formBuilder=t,this._service=i,this._sharedService=m,this._authService=A,this._platform=M,this._device=O,this._router=F,this.loading=!1,this.downloadApk=!1,this.isAndroidApk=!1}login(){this.FormGroup.invalid?this.FormGroup.markAllAsTouched():(this.loading=!0,this._service.login(this.FormGroup.value.usernameFormControl,this.FormGroup.value.passwordFormControl).then(t=>{this._authService.currentUser=t.result,this._sharedService.dataQuery({Code:"AdminAllPersons",Columns:[],Params:[],Filters:[],Groups:[],Sort:[{Field:"id",Sort:"desc"}],Take:100,Skip:0}).then(i=>{this._authService.currentUser=Object.assign(Object.assign({},t.result),{information:Object.assign({},i.result.items[0])}),this._router.navigate(["/"])}).finally(()=>{this.loading=!1})}).catch(()=>{this.loading=!1}))}ngOnInit(){this._platform.is("android")&&(this.downloadApk=!0,null!=this._device&&null!=this._device.uuid&&this._device.uuid.length>0&&(this.downloadApk=!1,this.isAndroidApk=!0)),this.FormGroup=this._formBuilder.group({usernameFormControl:["",r.kI.required],passwordFormControl:["",r.kI.required]})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(r.qu),o.Y36(d),o.Y36(f.F),o.Y36(v.e),o.Y36(a.t4),o.Y36(C.A),o.Y36(c.F0))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:20,vars:2,consts:[[1,"content-box"],[1,"container-box"],[1,"row"],[2,"flex","1"],[1,"logo-box"],["src","assets/icon/favicon.png","alt",""],[3,"formGroup","ngSubmit"],["position","floating"],["formControlName","usernameFormControl"],["type","Password","formControlName","passwordFormControl"],["type","submit","expand","block",3,"disabled"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),o._UZ(5,"img",5),o.TgZ(6,"h4"),o._uU(7,"\u062f\u0627\u0646\u0634\u06af\u0627\u0647 \u0622\u0632\u0627\u062f \u0627\u0633\u0644\u0627\u0645\u06cc"),o.qZA()(),o.TgZ(8,"form",6),o.NdJ("ngSubmit",function(){return i.login()}),o.TgZ(9,"ion-item")(10,"ion-label",7),o._uU(11,"\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc"),o.qZA(),o._UZ(12,"ion-input",8),o.qZA(),o.TgZ(13,"ion-item")(14,"ion-label",7),o._uU(15,"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631"),o.qZA(),o._UZ(16,"ion-input",9),o.qZA(),o.TgZ(17,"ion-button",10)(18,"span"),o._uU(19,"\u0648\u0631\u0648\u062f"),o.qZA()()()()()()()),2&t&&(o.xp6(8),o.Q6J("formGroup",i.FormGroup),o.xp6(9),o.Q6J("disabled",i.loading))},dependencies:[a.YG,a.pK,a.Ie,a.Q$,a.j9,r._Y,r.JJ,r.JL,r.sg,r.u],styles:["*[_ngcontent-%COMP%]{font-family:Vazirmatn RD UI FD!important;direction:rtl}.content-box[_ngcontent-%COMP%]{height:100%;margin:0;background-color:var(--box-color)}.container-box[_ngcontent-%COMP%]{margin:auto;padding:1rem}.container-box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;gap:2rem}@media only screen and (max-width: 768px){.container-box[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column}}.container-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:var(--secondary-text-color)}.container-box[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-bottom:2rem;color:var(--primary-text-color)}.container-box[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px}.container-box[_ngcontent-%COMP%]   .logo-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--primary-text-color)}.container-box[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.container-box[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:58px;--background: var(--secondary-color)}.container-box[_ngcontent-%COMP%]   ion-button.android-btn[_ngcontent-%COMP%]{--background: #fff;--border-color: var(--primary-color);--color: #76778C;margin-top:1rem}"]}),n})()}];var b=e(9034);let x=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[d,{provide:u.TP,useClass:b.n,multi:!0}],imports:[h.ez,a.Pc,u.JF,r.u5,r.UX,c.Bz.forChild(P)]}),n})()}}]);